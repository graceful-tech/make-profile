 <div class="wrapper">
    <div class="profile-wrapper">
       

        <form [formGroup]="candidateForm">

            <div class="form-heading">
              <div>   
                  <img class="profile" src="assets/img/make-profile.svg"/>
              </div>  
                  <input type="file" #attachment1  (change)="addCandidateImage($event)" style="display: none"/>
        
              <div *ngIf="candidateImageUrl;else other_content">
                <img class="image" [src]="candidateImageUrl"/>
              </div> 
              <ng-template #other_content> 
                <img class="image" src="assets/img/no-profile-picture.svg"/>
              </ng-template>
        
            </div>
        
            <div class="flex-end mt-3">
              <button type="button" class="custom-btn" (click)="attachment1.click()">Upload Profile</button>
            </div>
        
        
            <app-make-profile-divider></app-make-profile-divider>
        
            <div class="section-heading">Personal Details</div>
              <div class="grid">
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label class="required">Mobile Number</label>
                  <div class="input-wrapper">
                    <input type="text"  pKeyFilter="int"  [maxlength]="10"  pInputText formControlName="mobileNumber" />
                    <!--
                              <p-autoComplete pKeyFilter="int" [maxlength]="10" formControlName="mobileNumber"
                                  [suggestions]="mobileNumbers" (completeMethod)="searchMobileNumbers($event)"
                                  (onSelect)="getCandidateDetailsByMobileNumber($event)"
                                  (onBlur)="checkIfDetailsExists(candidateForm.value.mobileNumber)" [lazy]="true">
                              </p-autoComplete>
                              -->
                  </div>
                </div>
                <small class="error-message" *ngIf="candidateForm.controls['mobileNumber'].invalid && showError">
                  Mobile Number is required</small>
              </div>
          
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label class="required">Candidate Name</label>
                  <div class="input-wrapper">
                    <input type="text" pInputText formControlName="name" />
                  </div>
                </div>
                <small  class="error-message" *ngIf="candidateForm.controls['name'].invalid && showError"> Candidate Name is required</small>
              </div>
          
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label class="required">Email</label>
                  <div class="input-wrapper">
                    <input type="text" pInputText formControlName="email" />
                  </div>
                </div>
                <small class="error-message" *ngIf="candidateForm.controls['email'].invalid && showError" >
                  Email is required</small>
              </div>
          
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label class="required">Gender</label>
                  <div class="input-wrapper">
                    <p-dropdown [options]="genderList" optionLabel="displayValue" optionValue="dataValue"  placeholder="Select Gender"
                      formControlName="gender">
                    </p-dropdown>
                  </div>
                </div>
                <small class="error-message" *ngIf="candidateForm.controls['gender'].invalid && showError">
                  Gender is required</small>
              </div>
          
              <!-- <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label>Alt Mobile Number</label>
                  <div class="input-wrapper">
                    <input type="text"pKeyFilter="int" [maxlength]="10" pInputText formControlName="alternateMobileNumber"/>
                  </div>
                </div>
                <small class="error-message" *ngIf="candidateForm.controls['alternateMobileNumber'].invalid && showError">
                  Alt Mobile Number is required</small>
              </div> -->
          
          
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label [ngClass]="{ required: isRequired('languagesKnown') }">Languages Known</label>
                  <div class="input-wrapper">
                    <p-multiSelect [options]="languages" defaultLabel="Select Languages" [showHeader]="false" optionLabel="displayValue"
                      optionValue="dataValue" formControlName="languagesKnown">
                    </p-multiSelect>
                  </div>
                </div>
              </div>
        
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label>DOB</label>
                  <div class="input-wrapper">
                    <p-calendar formControlName="dob" placeholder="Select From Date"></p-calendar>
                  </div>
                </div>
              </div>
        
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label>LinkedIn</label>
                  <div class="input-wrapper">
                    <input type="text" pInputText formControlName="linkedIn" />
                  </div>
                </div>
              </div>
        
              <div class="col-12 md:col-6 lg:col-3">
                <div class="field-wrapper">
                  <label>Marital Status</label>
                  <div class="input-wrapper">
                   
                    <p-dropdown [options]="maritalStatus" optionLabel="displayValue" optionValue="dataValue" placeholder="Select Marital" formControlName="maritalStatus"></p-dropdown>
                  </div>
                </div>
              </div>
        
              
                <div class="col-12">
                 <div class="field-wrapper">
                  <label>Address</label>
                   <div class="input-wrapper">
                    <input type="text" pInputText formControlName="address"/>
                   </div>
                 </div>
                </div>
            
        
            </div>

            <app-make-profile-divider></app-make-profile-divider>
            <div class="section-heading mt-3">
              <div>Skills</div>
            </div>
        
            <div class="grid">
               <div class="col-12">
                <div class="field-wrapper">
                 <label>Skills</label>
                  <div class="input-wrapper">
                   <p-chips separator="," formControlName="skills" [addOnBlur]="true" [addOnTab]="true"></p-chips>
                  </div>
                </div>
               </div>
            </div>
        
        
            <app-make-profile-divider></app-make-profile-divider>
            <div class="section-heading mt-3">
              <div>Professional Details</div>
            </div>
          
            <div class="grid">
              <div class="col-12 md:col-6 lg:col-3">
                <div class="fresher-checkbox pb-3">
                  <p-checkbox
                    [binary]="true"
                    inputId="fresher"
                    formControlName="isFresher" Style="padding-right: 5px;"
                  ></p-checkbox>
                  <label>Fresher</label>
                </div>
              </div>
            </div>
          
            <ng-container *ngIf="!candidateForm.get('isFresher')?.value">
              <div formArrayName="experiences">
                <div *ngFor="let experience of experienceControls.controls; let i = index" [formGroupName]="i" class="experience-container">
                  
                  <!-- Experience Details -->
                  <div class="grid">
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Company Name</label>
                        <div class="input-wrapper">
                          <input type="text" pInputText formControlName="companyName" />
                        </div>
                      </div>
                    </div>
            
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Role Name</label>
                        <div class="input-wrapper">
                          <input type="text" pInputText formControlName="role" />
                        </div>
                      </div>
                    </div>
            
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Year Started</label>
                        <div class="input-wrapper">
                          <p-calendar formControlName="experienceYearStartDate" placeholder="Select From Date"></p-calendar>
                        </div>
                      </div>
                    </div>
        
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Year Ended</label>
                        <div class="input-wrapper">
                          <p-calendar formControlName="experienceYearEndDate" placeholder="Select From Date"></p-calendar>
                        </div>
                      </div>
                    </div>
        
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <div class="input-wrapper">
                          <p-checkbox [binary]="true"  formControlName="currentlyWorking"></p-checkbox>
                          <label style="padding-left:5px ;">Currently Working</label>
                        </div>
                      </div>
                    </div>
            
                    <div class="col-12 md:col-6 lg:col-3" *ngIf="i>0">
                      <button type="button" class="remove-btn" (click)="removeExperience(i)">Remove Experience</button>
        
                      <!-- <p-button type="button"  label="Remove Experience" styleClass="p-buttonFailure" (click)="removeExperience(i)"></p-button> -->
                    </div>
                  </div>
            
                  <!-- Project Details -->
                  <div formArrayName="projects">
                    <div class="bysection-heading mt-4">
                      <div>Project Details</div>
                    </div>
            
                    <div *ngFor="let project of getProjects(i).controls; let j = index" [formGroupName]="j" class="project-container">
                      
                      <div class="grid">
                        <div class="col-12 md:col-6 lg:col-3">
                          <div class="field-wrapper">
                            <label>Project Name</label>
                            <div class="input-wrapper">
                              <input type="text" pInputText formControlName="projectName" />
                            </div>
                          </div>
                        </div>

                        <div class="col-12 md:col-6 lg:col-3">
                            <div class="field-wrapper">
                              <label>Project Role</label>
                              <div class="input-wrapper">
                                <input type="text" pInputText formControlName="projectRole" />
                              </div>
                            </div>
                          </div>
            
                        <div class="col-12 md:col-6 lg:col-3">
                          <div class="field-wrapper">
                            <label>Project Skills</label>
                            <div class="input-wrapper">
                              <p-chips separator=","  formControlName="projectSkills" [addOnBlur]="true" [addOnTab]="true"></p-chips>
                            </div>
                          </div>
                        </div>
        
                        <div class="col-12 md:col-6 ">
                          <div class="field-wrapper">
                            <label>Project Description</label>
                            <div class="input-wrapper">
                              <textarea rows="2" type="text" pInputText formControlName="projectDescription"></textarea>
                            </div>
                          </div>
                        </div>
            
                        <div class="col-12 md:col-6 lg:col-3" *ngIf="j>0">
                          <button type="button" class="remove-btn" (click)="removeProject(i, j)">Remove Project</button>
        
                          <!-- <p-button type="button" label="Remove Project" styleClass="p-buttonFailure" (click)="removeProject(i, j)"></p-button> -->
                        </div>
        
                      </div>
        
                      <div class="col-12 md:col-6 lg:col-3" *ngIf="j === getProjectCount(i) - 1">
                        <button type="button" class="custom-btn" (click)="addProject(i)">+ Add Project</button>
                        <!-- <p-button type="button" label="+ Add Project" (click)="addProject(i)"></p-button> -->
                      </div>
        
                      <hr class="sub-section-divider" />
        
                    </div>
                  </div>
                   
                  <div class="col-12 md:col-6 lg:col-3" *ngIf="i === getExperienceCount(i) -1" >
                    <button type="button" class="custom-btn" (click)="addExperience()">+ Add Experience</button>
        
                    <!-- <p-button type="button" label="+ Add Experience" (click)="addExperience()"></p-button> -->
                  </div>
                </div>
                
              </div>
            </ng-container>
        
            <app-make-profile-divider></app-make-profile-divider>
            <div class="section-heading mt-3">
              <div>Qualification Details</div>
            </div>
           
              <div formArrayName="qualification">
                <div *ngFor="let qualifications of qualificationControls.controls; let i = index" [formGroupName]="i" class="experience-container">
                  
                  <div class="grid">
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Instution Name</label>
                        <div class="input-wrapper">
                          <input type="text" pInputText formControlName="instutionName" />
                        </div>
                      </div>
                    </div>
        
        
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Field Of Study</label>
                        <div class="input-wrapper">
                          <input type="text" pInputText formControlName="fieldOfStudy" />
                        </div>
                      </div>
                    </div>
        
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Qualification</label>
                        <div class="input-wrapper">
                          <p-dropdown [options]="fieldOfStudy" optionLabel="displayValue" optionValue="dataValue"  placeholder="Select Qualification"
                         formControlName="department" [filter]="true">
                        </p-dropdown>
                        </div>
                      </div>
                    </div>
            
                    
            
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Start Year</label>
                        <div class="input-wrapper">
                          <p-calendar formControlName="qualificationStartYear" placeholder="Select Year"></p-calendar>
                        </div>
                      </div>
                    </div>
        
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>End year</label>
                        <div class="input-wrapper">
                          <p-calendar formControlName="qualificationEndYear" placeholder="Select Year"></p-calendar>
                         </div>
                      </div>
                    </div>
        
                    <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Percentage</label>
                        <div class="input-wrapper">
                          <input placeholder="Ex:88.8" pKeyFilter="num" [maxLength]="4" type="number" [min]="0.0" 
                          [max]="99.99" pInputText formControlName="percentage" />
                        </div>
                      </div>
                    </div>
            
                   
                  </div>
                  <div class="col-12 md:col-6 lg:col-3" style="padding-left: 15px;" *ngIf="i>0">
                    <button type="button" class="remove-btn" (click)="removeQualification(i)">Remove Qualification</button>
        
                    <!-- <p-button type="button" label="Remove Qualification" styleClass="p-buttonFailure" (click)="removeQualification(i)"></p-button> -->
                  </div>
                </div>
                <div class="col-12 md:col-6 lg:col-3">
                  <button type="button" class="custom-btn" (click)="addQualication()">+ Add Qualifications</button>
        
                  <!-- <p-button type="button" label="+ Add Qualifications" (click)="addQualication()"></p-button> -->
                </div>
              </div>
            
              <app-make-profile-divider></app-make-profile-divider>
              <div class="section-heading mt-3">
                <div>Course & Certificates</div>
              </div>
        
              <div formArrayName="certificates">
                <div *ngFor="let certificate of certificateControls.controls; let i = index" [formGroupName]="i" class="experience-container">
        
                  <div class="grid">
                     <div class="col-12 md:col-6 lg:col-3">
                        <div class="field-wrapper">
                          <label>Course Name</label>
                        <div class="input-wrapper">
                           <input type="text" pInputText formControlName="courseName" />
                      </div>
                    </div>
                  </div>
          
                   <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                         <label>Course Start Year</label>
                           <div class="input-wrapper">
                            <p-calendar formControlName="courseStartDate" placeholder="Select From Date"></p-calendar>
                            
                           </div>
                      </div>
                   </div>
        
                    <div class="col-12 md:col-6 lg:col-3">
                        <div class="field-wrapper">
                            <label>Course End year</label>
                               <div class="input-wrapper">
                                <p-calendar formControlName="courseEndDate" placeholder="Select From Date"></p-calendar>
                              </div>
                        </div>
                    </div>
        
                 </div>
                  <div class="col-12 md:col-6 lg:col-3" style="padding-left: 15px;" *ngIf="i>0">
                    <button type="button" class="remove-btn" (click)="removeCertificates(i)">Remove Course</button>
        
                  <!-- <p-button type="button" label="Remove Course" styleClass="p-buttonFailure" (click)="removeCertificates(i)"></p-button> -->
                   </div>
                 </div>
                   <div class="col-12 md:col-6 lg:col-3">
                      <!-- <p-button type="button" label="+ Add Couse" (click)="addCertificates()"></p-button> -->
                      <button type="button" class="custom-btn" (click)="addCertificates()">+ Add Couse</button>
                   </div>
               </div>
        
        
               <app-make-profile-divider></app-make-profile-divider>
              <div class="section-heading mt-3">
                <div>Achievements & Awards</div>
              </div>
        
              <div formArrayName="achievements">
                 <div *ngFor="let certificate of achievementsControls.controls; let i = index" [formGroupName]="i" class="experience-container">
        
                   <div class="grid">
                      <div class="col-12 md:col-6 lg:col-3">
                        <div class="field-wrapper">
                         <label>Awards Name</label>
                          <div class="input-wrapper">
                            <input type="text" pInputText formControlName="achievementsName" />
                          </div>
                        </div>
                      </div>
         
                     <div class="col-12 md:col-6 lg:col-3">
                      <div class="field-wrapper">
                        <label>Awarded Year</label>
                           <div class="input-wrapper">
                            <p-calendar formControlName="achievementsDate" placeholder="Select Year"></p-calendar>
                           </div>
                       </div>
                     </div>
             
                   </div>
                       <div class="col-12 md:col-6 lg:col-3" style="padding-left: 15px;" *ngIf="i>0">
                        <button type="button" class="remove-btn" icon="pi pi-trash" (click)="removeaddAchievements(i)">Remove Achievements</button>
                          <!-- <p-button type="button" label="Remove Achievements" styleClass="p-buttonFailure" (click)="removeaddAchievements(i)"></p-button> -->
                       </div>
                </div>
                    <div class="col-12 md:col-6 lg:col-3">
                       <!-- <p-button type="button" styleClass="p-resumeButton" label="+ Add Achievements" (click)="addAchievements()"></p-button> -->
                       <button type="button" class="custom-btn"  (click)="addAchievements()">+ Add Achievements</button>
                    </div>
              </div>       
           </form>

           <app-make-profile-divider></app-make-profile-divider>

           <div class="button-wrapper">
            <p-button class="mr-2" [label]="dataLoaded ? 'Generate' : 'Generating..'"
                [icon]="dataLoaded ? '' : 'pi pi-spin pi-spinner'" [disabled]="!dataLoaded"
                (onClick)="generatingResume()"></p-button>
        
            <p-button  styleClass="p-button-secondary" label="Reset"
                (onClick)="reset()">
            </p-button>
            
            </div>
            
    </div>
    <div class="preview-resume">
       <P>Joseph Vijay Chandrasekhar (born 22 June 1974), known professionally as Vijay, is an Indian actor and playback singer who works in Tamil cinema. In a career spanning over three decades, Vijay has acted in 68 films and is one of the most commercially successful actors in Tamil cinema with multiple films amongst the highest-grossing Tamil films of all time and is amongst the highest paid actors in India. He has won several awards as an actor. Referred to as "Thalapathy" (transl. commander), Vijay has a significant fan following.</P>
    </div>
 </div>
 